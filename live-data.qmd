---
title: "Daten "
format: html
---
<div class="iframe-wrap" style="position:relative; width:100%;">
  <iframe id="ttn-dashboard"
          src="assets/data.html?v=1"
          loading="lazy"
          style="border:0; width:100%; height:900px;">
  </iframe>
</div>
<script>
(function(){
  const fr = document.getElementById('ttn-dashboard');

  // 1) Auto-Resize: Dashboard sendet Höhe per postMessage
  window.addEventListener('message', (e) => {
    if (e && e.data && e.data.type === 'TTN_IFRAME_SIZE' && typeof e.data.height === 'number') {
      fr.style.height = (e.data.height) + 'px';
    }
  });

  // 2) Fallback: gleiche-Origin -> beim Laden Höhe messen
  function resizeFallback(){
    try {
      const doc = fr.contentDocument;
      if (!doc) return;
      const h = Math.max(doc.documentElement.scrollHeight, doc.body ? doc.body.scrollHeight : 0);
      if (h && h > 0) fr.style.height = h + 'px';
    } catch(e){}
  }
  fr.addEventListener('load', resizeFallback);
})();
</script>
