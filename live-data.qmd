---
title: "Live-Daten "
format: html
---


<div class="iframe-wrap">
  <iframe id="data-iframe"
          loading="lazy"
          width="100%"
          height="900"
          style="border:0"
          referrerpolicy="no-referrer">
  </iframe>
</div>

<script>
(function () {
  function siteRoot() {
    // z.B. https://gisma.github.io/mikrotik-burgwald/  → "/mikrotik-burgwald/"
    // lokal: http://localhost:xxxx/ → "/"
    const parts = location.pathname.split("/").filter(Boolean);
    if (location.host.endsWith("github.io") && parts.length >= 1) {
      // owner.github.io/<repo>/...
      return "/" + parts[0] + "/";
    }
    // eigene Domain oder lokales Preview
    return "/";
  }
  function setSrc() {
    const root = siteRoot();
    // Cachebuster hilft, wenn Pages hart cached
    const v = Date.now().toString(36);
    document.getElementById("data-iframe").src = root + "data/data.html?v=" + v;
  }
  function resizeIframe(el) {
    try {
      const d = el.contentDocument || el.contentWindow.document;
      const h = Math.max(
        d.body.scrollHeight || 0,
        d.documentElement.scrollHeight || 0,
        600
      );
      el.style.height = (h + 20) + "px";
    } catch (e) { /* cross-origin: ignoriere */ }
  }
  document.addEventListener("DOMContentLoaded", function () {
    const ifr = document.getElementById("data-iframe");
    setSrc();
    ifr.addEventListener("load", () => resizeIframe(ifr));
  });
})();
</script>

<style>
.iframe-wrap { width: 100%; }
.iframe-wrap iframe { width: 100%; display: block; }
</style>
